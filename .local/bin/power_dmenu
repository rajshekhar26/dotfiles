#!/usr/bin/env bash

export background=$(xrdb ~/.config/x11/xresources -query all | grep color0 | cut -f2)
export foreground=$(xrdb ~/.config/x11/xresources -query all | grep foreground | cut -f2)
export color6=$(xrdb ~/.config/x11/xresources -query all | grep color6 | cut -f2)

case "$(echo -e "Lock\nLogout\nRestart\nShutdown\nSuspend" | dmenu \
    -fn "SpaceMono Nerd Font Mono-15" -nb "$background" \
    -nf "$foreground" -sb "$color6" -sf "$background" \
    -i -p \
    "Power:" -l 5)" in
    Lock) exec lock ;;
    Logout) exec bspc quit ;;
    Restart) exec systemctl reboot ;;
    Shutdown) exec systemctl poweroff ;;
    Suspend) exec systemctl suspend ;;
esac
